<div class="container px-4">
    <div #card class="card shadow m-auto my-5 card-width">
        <div class="card-header">
            <img width="25" src="assets/images/icon.png">
        </div>
        <div class="card-body">
            <h4 class="card-title text-center py-4 alice-font">Provider Login</h4>
            <hr>
            <ngb-alert [dismissible]="false" [type]="'danger'" *ngIf="loginError">
                Invalid email or password
            </ngb-alert>
            <form #lf #loginForm="ngForm" novalidate>
                <div class="form-floating my-4">
                    <input #emailInput="ngModel" type="email" [(ngModel)]="email" id="email"
                        class="form-control bg-light" name="email" aria-describedby="email" placeholder="" required appEmailValidation>
                    <label for="email">Email</label>
                    <div *ngIf="emailInput.invalid" class="invalid-feedback">
                        <div *ngIf="emailInput.errors?.['required']">
                            Provide email
                        </div>
                        <div *ngIf="emailInput.errors?.['email'] && email !== ''">
                            Invalid email format
                        </div>
                    </div>
                </div>
                <div class="form-group mt-4 mb-2 form-floating">
                    <input [type]="type" [(ngModel)]="password" id="password" class="form-control bg-light"
                        name="password" aria-describedby="password" placeholder="" required>
                    <label for="password">Password</label>
                    <div class="invalid-feedback">
                        Provide password
                    </div>
                </div>
                <div class="form-check mb-4">
                    <input class="form-check-input border-secondary" type="checkbox" value="" id="showPassword"
                        (change)="showPassword()">
                    <label class="form-check-label" for="showPassword">
                        <small>show password</small>
                    </label>
                </div>
                <div class="row mb-4">
                    <div class="col text-center">
                        <small><a class="link-dark" [routerLink]="['/session/forgot-password']" [queryParams]="{accountType:'provider'}">Forgot password?</a></small>
                    </div>
                </div>
                <div class="form-group mb-4">
                    <button *ngIf="!loggingIn" (click)="login(loginForm)" class="btn btn-secondary w-100">Login</button>
                    <button *ngIf="loggingIn" class="btn btn-secondary w-100" type="button" disabled>
                        <span class="spinner-border spinner-border-sm"></span>
                    </button>
                </div>
                <div class="row">
                    <div class="col text-center">
                        <small><a class="link-dark" routerLink="/session/provider-signup">Not a provider?</a></small>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
